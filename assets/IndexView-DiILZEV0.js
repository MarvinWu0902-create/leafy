import{m as w,_ as v,o as r,c,a as s,w as d,n as h,b as t,d as m,e as $,T as j,r as l,f as T,F as S,g as V,t as k,h as L,v as O,R as D}from"./index-DciNioPc.js";import{c as f}from"./cart-DVyuMAG3.js";import{A as E}from"./AdjustCartBtn-EKL0W0ZD.js";import{T as R}from"./ToastCard-C4XrGxB0.js";import{_ as B}from"./leafy_logo-removebg-zq9z6sGz.js";import"./axios-Bo0ATomq.js";const N={props:["canExpaned","isOpen","openClick"],data(){return{innerisOpen:!1,currentPath:""}},methods:{...w(f,["cartClick"])},watch:{isOpen(){this.innerisOpen=this.isOpen},$route(e){this.currentPath=e.path}}},A={class:"flex flex-col md:flex-row"};function I(e,n,a,g,o,u){const p=l("RouterLink");return r(),c("div",null,[s(j,{name:"fade","enter-active-class":"transition duration-300","leave-active-class":"transition duration-300","enter-from-class":"-translate-y-3 opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-from-class":"translate-y-0 opacity-100","leave-to-class":"-translate-y-3 opacity-0"},{default:d(()=>[!a.canExpaned||o.innerisOpen?(r(),c("nav",{key:0,class:h({"hidden md:block":!a.canExpaned,"block md:hidden text-center bg-main":o.innerisOpen})},[t("ul",A,[t("li",null,[s(p,{class:h(["block hover:text-primary",{"px-3":!a.canExpaned,"my-4":o.innerisOpen,"text-primary":o.currentPath==="/about","text-secondary":o.currentPath!=="/about"}]),to:"/about",onClick:a.openClick},{default:d(()=>[m(" 關於我們")]),_:1},8,["class","onClick"])]),t("li",null,[s(p,{class:h(["block hover:text-primary",{"px-3":!a.canExpaned,"mb-4":o.innerisOpen,"text-primary":o.currentPath==="/productlist","text-secondary":o.currentPath!=="/productlist"}]),to:"/productlist",onClick:a.openClick},{default:d(()=>[m(" 商品列表")]),_:1},8,["class","onClick"])]),t("li",null,[s(p,{class:h(["block hover:text-primary",{"px-3":!a.canExpaned,"mb-4":o.innerisOpen,"text-primary":o.currentPath==="/service","text-secondary":o.currentPath!=="/service"}]),to:"/service",onClick:a.openClick},{default:d(()=>[m(" 常見問題")]),_:1},8,["class","onClick"])])])],2)):$("",!0)]),_:1})])}const z=v(N,[["render",I]]),F={components:{AdjustCartBtn:E},computed:{...T(f,["cartData","tempId","finaltotalPrice","totalPrice","iscartOpen","cartLoading"])},methods:{...w(f,["deleteCart","adjustCart","cartClick"]),adjustCartHandler(e,n){const a={...n};e==="plus"?a.qty+=1:e==="minus"&&(a.qty-=1),this.adjustCart(a)}},watch:{iscartOpen(e){document.body.classList.toggle("overflow-hidden",e)}}},Y={key:0,class:"fixed overflow-y-auto top-0 right-0 w-full md:w-1/2 lg:w-[400px] h-screen bg-dark z-30"},q={class:"flex justify-between p-4 border border-t-0 border-b-2 border-x-0 border-primary"},H=t("p",{class:"tracking-widest text-secondary text-4"},"購物車",-1),U=t("span",{class:"material-symbols-outlined text-secondary hover:text-white"},"close",-1),G=[U],J={key:0},K={class:"flex justify-between w-full md:w-auto md:justify-start"},M={class:"flex-shrink-0 h-24 w-28"},Q=["src"],W={class:"flex flex-col justify-between mx-2 md:justify-center item-info"},X={class:"text-center text-white md:text-base text-5"},Z={class:"text-center text-white md:text-base text-5"},tt=["onClick"],et=t("span",{class:"material-symbols-outlined"}," delete ",-1),st=[et],ot=["onClick"],nt=t("span",{class:"material-symbols-outlined"}," delete ",-1),at=[nt],it={key:1,class:"flex flex-col items-center justify-center"},rt=t("span",{class:"mt-10 mb-1 text-4xl text-gray-400 material-symbols-outlined"}," feedback ",-1),ct=t("p",{class:"mb-10 text-gray-400"},"購物車內沒有商品",-1),lt=[rt,ct],dt={key:2},pt={class:"p-4 text-white sum-count text-end text-5"},ut=["disabled"],mt={key:3};function ht(e,n,a,g,o,u){const p=l("AdjustCartBtn"),x=l("font-awesome-icon"),b=l("RouterLink");return r(),c("div",null,[s(j,{name:"fade","enter-active-class":"transition duration-300","leave-active-class":"transition duration-300","enter-from-class":"opacity-0 translate-x-[100px]","enter-to-class":"translate-x-0 opacity-100","leave-from-class":"translate-x-0 opacity-100","leave-to-class":"opacity-0 translate-x-[100px]"},{default:d(()=>[e.iscartOpen?(r(),c("div",Y,[t("div",q,[H,t("button",{type:"button",class:"cursor-pointer text-4",onClick:n[0]||(n[0]=(...i)=>e.cartClick&&e.cartClick(...i))},G)]),e.cartData.length>0?(r(),c("div",J,[(r(!0),c(S,null,V(e.cartData,(i,_)=>(r(),c("div",{class:h(["flex items-center justify-between p-4 cart-item",{"border-x-0 border-t-0 border-b-2 border-primary":_===e.cartData.length-1}]),key:i.id},[t("div",K,[t("div",M,[t("img",{class:"object-cover w-full h-full",src:i.product.imageUrl,alt:"商品照片"},null,8,Q)]),t("div",W,[t("h3",X,k(i.product.title),1),t("p",Z,"$"+k(i.final_total)+" NTD",1),s(p,{class:"block md:hidden","cart-data":i},null,8,["cart-data"])]),t("button",{type:"button",class:"flex items-center justify-center px-1 cursor-pointer md:hidden text-gray-200/20 hover:text-gray-400 ms-1",onClick:y=>e.deleteCart("single",i.id)},st,8,tt)]),L(s(x,{icon:["fas","spinner"],"spin-pulse":"",class:"text-white"},null,512),[[O,(e.cartLoading.adjustCart||e.cartLoading.delCart)&&e.tempId===i.id]]),s(p,{class:"hidden w-1/3 md:block","cart-data":i},{default:d(()=>[t("button",{type:"button",class:"flex items-center justify-center px-1 cursor-pointer text-gray-200/20 hover:text-gray-400 ms-1",onClick:y=>e.deleteCart("single",i.id)},at,8,ot)]),_:2},1032,["cart-data"])],2))),128))])):(r(),c("div",it,lt)),e.cartData.length>0?(r(),c("div",dt,[t("div",pt,[t("p",null,"總計金額：$ "+k(e.finaltotalPrice)+" NTD",1)]),s(b,{to:"/ordercheck",onClick:e.cartClick,class:"block p-2 mx-4 mb-4 text-center transition duration-300 bg-white cursor-pointer md:p-4 hover:bg-primary text-primary hover:text-white"},{default:d(()=>[m(" 確認結帳")]),_:1},8,["onClick"]),t("button",{type:"button",class:"block w-24 py-2 mx-auto mb-6 text-sm text-center text-gray-400 transition duration-300 bg-transparent border border-gray-400 md:mb-4 hover:bg-gray-400 hover:text-dark",onClick:n[1]||(n[1]=i=>e.deleteCart("all")),disabled:e.cartLoading.delCart&&e.tempId===""},[m(" 清空購物車 "),L(s(x,{icon:["fas","spinner"],"spin-pulse":"",class:"text-white"},null,512),[[O,e.cartLoading.delCart&&e.tempId===""]])],8,ut)])):(r(),c("div",mt,[s(b,{to:"/productlist",class:"block w-1/2 p-2 mx-auto mb-4 text-center transition duration-300 rounded cursor-pointer md:w-1/3 bg-white/90 hover:bg-primary text-primary hover:text-white",onClick:e.cartClick},{default:d(()=>[m("前往挑選商品")]),_:1},8,["onClick"])]))])):$("",!0)]),_:1})])}const _t=v(F,[["render",ht]]),ft={data(){return{isVisible:!1}},methods:{handleScroll(){this.isVisible=window.scrollY>120},scrollToTop(){window.scrollTo({top:0})}},mounted(){window.addEventListener("scroll",this.handleScroll)}},xt={key:0},bt=t("span",{class:"transition duration-300 material-symbols-outlined text-white/70 group-hover:text-white/80"}," arrow_upward_alt ",-1),yt=[bt];function kt(e,n,a,g,o,u){return r(),c("div",null,[o.isVisible?(r(),c("div",xt,[t("button",{type:"button",class:"fixed z-30 flex items-center justify-center p-2 duration-300 rounded cursor-pointer group bg-primary/20 hover:bg-primary/50 transition-sm bottom-10 right-10",onClick:n[0]||(n[0]=(...p)=>u.scrollToTop&&u.scrollToTop(...p))},yt)])):$("",!0)])}const vt=v(ft,[["render",kt]]),gt={components:{NavBar:z,ShopCart:_t,ScrollTop:vt,ToastCard:R,RouterLink:D},data(){return{ismeunOpen:!1}},computed:{...T(f,["cartData","finaltotalPrice","totalPrice","cartLoading","iscartOpen","resInfo"])},methods:{menuClick(){this.ismeunOpen=!this.ismeunOpen},...w(f,["getCart","addCart","deleteCart","cartClick"])},watch:{ismeunOpen(e){document.body.classList.toggle("overflow-hidden",e)},iscartOpen(e){e&&(this.ismeunOpen=!1)}},mounted(){this.getCart()}},Ct={class:"flex flex-col h-screen"},wt={class:"fixed top-0 z-10 w-full bg-main"},$t={class:"container flex justify-between"},Lt={class:"flex items-center menu"},Ot={class:"p-2"},jt=t("img",{class:"w-[120px] h-[60px] object-contain",src:B,alt:"logo"},null,-1),Tt={class:"flex items-center mx-4 space-x-5 shop"},Pt=t("span",{class:"material-symbols-outlined text-secondary hover:text-primary"}," list_alt ",-1),St=t("span",{class:"material-symbols-outlined text-secondary hover:text-primary"}," shopping_cart ",-1),Vt={class:"absolute w-5 h-5 text-xs font-bold leading-5 text-center text-white bg-red-400 rounded-full -top-1/2 -right-1/2"},Dt=t("span",{class:"material-symbols-outlined text-secondary hover:text-primary"}," menu ",-1),Et=[Dt],Rt={class:"absolute top-[76px] left-0 w-full"},Bt={class:"mobile-menu"},Nt={class:"flex-1 mt-[76px]"},At={class:"bg-dark"},It={class:"container text-center text-secondary"},zt=t("h3",{class:"pt-4 pb-2 text-xl"},"LEAFY",-1),Ft={class:"flex justify-center pb-2 text-xs"},Yt=t("p",null," 本網站僅供個人作品使用，不提供商業用途",-1),qt=t("span",{class:"hidden mx-1 md:block"}," | ",-1),Ht=t("p",{class:"pb-4 text-xs"},"LEAFY © 2024 copyright",-1);function Ut(e,n,a,g,o,u){const p=l("VueLoading"),x=l("ToastCard"),b=l("ScrollTop"),i=l("ShopCart"),_=l("RouterLink"),y=l("NavBar"),P=l("RouterView");return r(),c("div",Ct,[s(p,{active:e.cartLoading.getCart,"can-cancel":!0,"is-full-page":!0},null,8,["active"]),t("div",{class:h(["mask",{"fixed overflow-hidden inset-0 bg-black bg-opacity-20 z-10":o.ismeunOpen}])},null,2),s(x,{"toast-msg":e.resInfo,"show-time":2e3},null,8,["toast-msg"]),s(b),s(i),t("header",wt,[t("div",$t,[t("div",Lt,[t("h1",Ot,[s(_,{to:"/"},{default:d(()=>[jt]),_:1})]),s(y,{"can-expaned":!1})]),t("div",Tt,[s(_,{class:"w-5 h-5 cursor-pointer",to:"/userinfo"},{default:d(()=>[Pt]),_:1}),t("a",{class:"relative w-5 h-5 cursor-pointer",onClick:n[0]||(n[0]=(...C)=>e.cartClick&&e.cartClick(...C))},[St,t("span",Vt,k(e.cartData.length),1)]),t("a",{class:"block w-6 h-6 cursor-pointer md:hidden ms-4",onClick:n[1]||(n[1]=(...C)=>u.menuClick&&u.menuClick(...C))},Et)])]),t("div",Rt,[t("div",Bt,[s(y,{"can-expaned":!0,"is-open":o.ismeunOpen,"open-click":u.menuClick},null,8,["is-open","open-click"])])])]),t("div",Nt,[s(P)]),t("footer",At,[t("div",It,[zt,t("div",Ft,[Yt,qt,s(_,{class:"hidden md:block",to:"/dashboard"},{default:d(()=>[m("登入後台")]),_:1})]),Ht])])])}const Xt=v(gt,[["render",Ut]]);export{Xt as default};
