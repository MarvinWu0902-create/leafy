import{_ as z,f as A,m as j,c as n,a as P,h as T,v as V,b as s,n as l,t as e,F as U,g as G,d as o,j as H,w as I,r as d,o as r}from"./index-CfSEsaDF.js";import{c as J}from"./cart-DrWqlQ1c.js";import{o as E}from"./order-Db4EIPfB.js";import{P as K}from"./ProgressBar-CXqFK5Mx.js";import"./axios-Bo0ATomq.js";const M={components:{ProgressBar:K},computed:{...A(E,["orderData","orderLoading"])},methods:{...j(E,["orderChange","getSingleOrder","payOrder"]),...j(J,["getCart"])},mounted(){this.orderChange(""),this.getCart(),this.getSingleOrder(this.$route.params.id)}},Q={class:"container flex flex-col items-baseline mb-10 md:flex-row"},W={class:"w-full mb-10 md:mb-0 me-0 md:me-4"},X={class:"flex mb-4"},Y=s("h3",{class:"text-2xl me-4"},"訂單內容",-1),Z={class:"flex w-full"},ss={class:"w-24"},ts=["src"],es={class:"flex justify-between w-full p-4"},os={class:"product-info"},as={class:"price"},rs={class:"my-4 text-end"},is={class:"text-2xl"},ns={class:"w-full bg-main ms-0 md:ms-4"},ls={class:"p-8"},ds=s("h3",{class:"mb-4 text-2xl"},"訂購資訊",-1),cs={class:"font-bold"},ps={class:"mb-4"},ms={class:"font-light"},_s={class:"mb-4"},hs={class:"font-light"},us={class:"mb-4"},fs={class:"font-light"},gs={class:"mb-4"},bs={class:"font-light"},ws={class:"mb-4"},Ds={class:"font-light"},ys={class:"mb-4"},vs={class:"font-light"},ks={class:"mb-10"},$s={class:"font-light"},xs=s("span",{class:"material-symbols-outlined ms-1"}," shopping_cart_checkout ",-1);function Cs(t,c,Ls,Ss,Bs,Ns){var p,m,_,h,u,f,g,b,w,D,y,v,k,$,x,C,L,S,B,N;const F=d("ProgressBar"),R=d("font-awesome-icon"),q=d("RouterLink");return r(),n("div",null,[P(F,{class:"mt-10 mb-16"}),T(s("div",Q,[s("ul",W,[s("div",X,[Y,s("p",{class:l(["leading-8",{" text-red-400":!((p=t.orderData)!=null&&p.is_paid),"text-green-600":(m=t.orderData)==null?void 0:m.is_paid}])},e(`${(_=t.orderData)!=null&&_.is_paid?"( 付款完成 )":"( 未付款 )"}`),3)]),(r(!0),n(U,null,G((h=t.orderData)==null?void 0:h.products,(a,i)=>{var O;return r(),n("li",{class:l(["flex pb-4",{"border-b-2":i===Object.keys((O=t.orderData)==null?void 0:O.products).slice(-1)[0]}]),key:a.id},[s("div",Z,[s("div",ss,[s("img",{class:"object-cover w-full h-20",src:a.product.imageUrl,alt:"#"},null,8,ts)]),s("div",es,[s("div",os,[s("p",null,e(a.product.title),1),s("p",null,"數量 : "+e(a.qty),1)]),s("div",as,[s("p",null,"NT$"+e(a.final_total),1)])])])],2)}),128)),s("p",rs,[o("總計金額 : "),s("span",is,"NT$"+e((u=t.orderData)==null?void 0:u.total),1)])]),s("div",ns,[s("div",ls,[ds,s("p",{class:l(["mb-4 text-xl",{"text-green-600":(f=t.orderData)==null?void 0:f.is_paid,"text-red-400":!((g=t.orderData)!=null&&g.is_paid)}])},[o(" 訂單金額 : "),s("span",cs,"NT$"+e((b=t.orderData)==null?void 0:b.total),1)],2),s("p",ps,[o("訂單編號 : "),s("span",ms,e((w=t.orderData)==null?void 0:w.id),1)]),s("p",_s,[o("訂購時間 : "),s("span",hs,e(new Date(((D=t.orderData)==null?void 0:D.create_at)*1e3).toLocaleString()),1)]),s("p",us,[o("Email : "),s("span",fs,e((v=(y=t.orderData)==null?void 0:y.user)==null?void 0:v.email),1)]),s("p",gs,[o("收件人姓名 : "),s("span",bs,e(($=(k=t.orderData)==null?void 0:k.user)==null?void 0:$.name),1)]),s("p",ws,[o("連絡電話 : "),s("span",Ds,e((C=(x=t.orderData)==null?void 0:x.user)==null?void 0:C.tel),1)]),s("p",ys,[o("收件地址 : "),s("span",vs,e((S=(L=t.orderData)==null?void 0:L.user)==null?void 0:S.address),1)]),s("p",ks,[o("備註 : "),s("span",$s,e((B=t.orderData)==null?void 0:B.message),1)]),(N=t.orderData)!=null&&N.is_paid?(r(),H(q,{key:1,class:"flex items-center justify-center w-full py-2 tracking-widest text-center text-white transition duration-300 bg-primary hover:bg-primary-darker",to:"/productlist"},{default:I(()=>[o("繼續選購 "),xs]),_:1})):(r(),n("button",{key:0,type:"button",class:l(["block w-full py-2 text-center text-white transition duration-300 bg-primary hover:bg-primary-darker",{"cursor-wait":t.orderLoading.pay}]),onClick:c[0]||(c[0]=a=>{var i;return t.payOrder((i=t.orderData)==null?void 0:i.id)})},[o(" 前往付款 "),T(P(R,{icon:["fas","spinner"],"spin-pulse":"",class:"text-white"},null,512),[[V,t.orderLoading.pay]])],2))])])],512),[[V,!t.orderLoading.get]])])}const Es=z(M,[["render",Cs]]);export{Es as default};
