import{m as w,_ as y,o as r,c as i,a as s,w as d,n as h,b as t,d as m,e as $,T,r as l,f as j,F as S,g as V,t as b,h as L,v as O,R as D}from"./index-BApqB6x0.js";import{c as f}from"./cart-DhDnEP8p.js";import{A as E}from"./AdjustCartBtn-CZ7s5nMi.js";import{T as R}from"./ToastCard-DmYN61V9.js";import{_ as B}from"./leafy_logo-removebg-zq9z6sGz.js";import"./axios-Bo0ATomq.js";const N={props:["canExpaned","isOpen","openClick"],data(){return{innerisOpen:!1,currentPath:""}},methods:{...w(f,["cartClick"])},watch:{isOpen(){this.innerisOpen=this.isOpen},$route(e){this.currentPath=e.path}}},A={class:"flex flex-col md:flex-row"};function I(e,n,a,v,o,u){const p=l("RouterLink");return r(),i("div",null,[s(T,{name:"fade","enter-active-class":"transition duration-300","leave-active-class":"transition duration-300","enter-from-class":"-translate-y-3 opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-from-class":"translate-y-0 opacity-100","leave-to-class":"-translate-y-3 opacity-0"},{default:d(()=>[!a.canExpaned||o.innerisOpen?(r(),i("nav",{key:0,class:h({"hidden md:block":!a.canExpaned,"block md:hidden text-center bg-main":o.innerisOpen})},[t("ul",A,[t("li",null,[s(p,{class:h(["block hover:text-primary",{"px-3":!a.canExpaned,"my-4":o.innerisOpen,"text-primary":o.currentPath==="/about","text-secondary":o.currentPath!=="/about"}]),to:"/about",onClick:a.openClick},{default:d(()=>[m(" 關於我們")]),_:1},8,["class","onClick"])]),t("li",null,[s(p,{class:h(["block hover:text-primary",{"px-3":!a.canExpaned,"mb-4":o.innerisOpen,"text-primary":o.currentPath==="/productlist","text-secondary":o.currentPath!=="/productlist"}]),to:"/productlist",onClick:a.openClick},{default:d(()=>[m(" 商品列表")]),_:1},8,["class","onClick"])]),t("li",null,[s(p,{class:h(["block hover:text-primary",{"px-3":!a.canExpaned,"mb-4":o.innerisOpen,"text-primary":o.currentPath==="/service","text-secondary":o.currentPath!=="/service"}]),to:"/service",onClick:a.openClick},{default:d(()=>[m(" 常見問題")]),_:1},8,["class","onClick"])])])],2)):$("",!0)]),_:1})])}const z=y(N,[["render",I]]),F={components:{AdjustCartBtn:E},computed:{...j(f,["cartData","tempId","finaltotalPrice","totalPrice","iscartOpen","cartLoading"])},methods:{...w(f,["deleteCart","adjustCart","cartClick"]),adjustCartHandler(e,n){const a={...n};e==="plus"?a.qty+=1:e==="minus"&&(a.qty-=1),this.adjustCart(a)}},watch:{iscartOpen(e){document.body.classList.toggle("overflow-hidden",e)}}},Y={key:0,class:"fixed overflow-y-auto top-0 right-0 w-full md:w-1/2 lg:w-[400px] h-screen bg-dark z-20"},q={class:"flex justify-between p-4 border border-t-0 border-b-2 border-x-0 border-primary"},H=t("p",{class:"tracking-widest text-secondary text-4"},"購物車",-1),U=t("span",{class:"material-symbols-outlined text-secondary hover:text-white"},"close",-1),G=[U],J={key:0},K={class:"flex"},M=["src"],Q={class:"flex flex-col justify-center p-2 item-info"},W={class:"text-white text-5"},X={class:"text-white text-5"},Z=["onClick"],tt=t("span",{class:"material-symbols-outlined"}," delete ",-1),et=[tt],st={key:1,class:"flex flex-col items-center justify-center"},ot=t("span",{class:"mt-10 mb-1 text-4xl text-gray-400 material-symbols-outlined"}," feedback ",-1),nt=t("p",{class:"mb-10 text-gray-400"},"購物車內沒有商品",-1),at=[ot,nt],rt={key:2},it={class:"p-4 text-white sum-count text-end text-5"},ct=["disabled"],lt={key:3};function dt(e,n,a,v,o,u){const p=l("font-awesome-icon"),k=l("AdjustCartBtn"),x=l("RouterLink");return r(),i("div",null,[s(T,{name:"fade","enter-active-class":"transition duration-300","leave-active-class":"transition duration-300","enter-from-class":"opacity-0 translate-x-[100px]","enter-to-class":"translate-x-0 opacity-100","leave-from-class":"translate-x-0 opacity-100","leave-to-class":"opacity-0 translate-x-[100px]"},{default:d(()=>[e.iscartOpen?(r(),i("div",Y,[t("div",q,[H,t("button",{type:"button",class:"cursor-pointer text-4",onClick:n[0]||(n[0]=(...c)=>e.cartClick&&e.cartClick(...c))},G)]),e.cartData.length>0?(r(),i("div",J,[(r(!0),i(S,null,V(e.cartData,(c,_)=>(r(),i("div",{class:h(["flex items-center justify-between p-4 cart-item",{"border-x-0 border-t-0 border-b-2 border-primary":_===e.cartData.length-1}]),key:c.id},[t("div",K,[t("img",{class:"object-cover h-24 w-28",src:c.product.imageUrl,alt:"商品照片"},null,8,M),t("div",Q,[t("h3",W,b(c.product.title),1),t("p",X,"$"+b(c.final_total)+" NTD",1)])]),L(s(p,{icon:["fas","spinner"],"spin-pulse":"",class:"text-white"},null,512),[[O,(e.cartLoading.adjustCart||e.cartLoading.delCart)&&e.tempId===c.id]]),s(k,{class:"w-1/3","cart-data":c},{default:d(()=>[t("button",{type:"button",class:"flex items-center justify-center px-1 cursor-pointer text-gray-200/20 hover:text-gray-400 ms-1",onClick:g=>e.deleteCart("single",c.id)},et,8,Z)]),_:2},1032,["cart-data"])],2))),128))])):(r(),i("div",st,at)),e.cartData.length>0?(r(),i("div",rt,[t("div",it,[t("p",null,"總計金額：$ "+b(e.finaltotalPrice)+" NTD",1)]),s(x,{to:"/ordercheck",onClick:e.cartClick,class:"block p-4 mx-4 mb-4 text-center transition duration-300 bg-white cursor-pointer hover:bg-primary text-primary hover:text-white"},{default:d(()=>[m(" 確認結帳")]),_:1},8,["onClick"]),t("button",{type:"button",class:"block w-24 py-2 mx-auto mb-4 text-sm text-center text-gray-400 transition duration-300 bg-transparent border border-gray-400 hover:bg-gray-400 hover:text-dark",onClick:n[1]||(n[1]=c=>e.deleteCart("all")),disabled:e.cartLoading.delCart&&e.tempId===""},[m(" 清空購物車 "),L(s(p,{icon:["fas","spinner"],"spin-pulse":"",class:"text-white"},null,512),[[O,e.cartLoading.delCart&&e.tempId===""]])],8,ct)])):(r(),i("div",lt,[s(x,{to:"/productlist",class:"block w-1/3 p-2 mx-auto mb-4 text-center transition duration-300 rounded cursor-pointer bg-white/90 hover:bg-primary text-primary hover:text-white",onClick:e.cartClick},{default:d(()=>[m("前往挑選商品")]),_:1},8,["onClick"])]))])):$("",!0)]),_:1})])}const pt=y(F,[["render",dt]]),ut={data(){return{isVisible:!1}},methods:{handleScroll(){this.isVisible=window.scrollY>120},scrollToTop(){window.scrollTo({top:0})}},mounted(){window.addEventListener("scroll",this.handleScroll)}},mt={key:0},ht=t("span",{class:"transition duration-300 material-symbols-outlined text-white/70 group-hover:text-white/80"}," arrow_upward_alt ",-1),_t=[ht];function ft(e,n,a,v,o,u){return r(),i("div",null,[o.isVisible?(r(),i("div",mt,[t("button",{type:"button",class:"fixed z-30 flex items-center justify-center p-2 duration-300 rounded cursor-pointer group bg-primary/20 hover:bg-primary/50 transition-sm bottom-10 right-10",onClick:n[0]||(n[0]=(...p)=>u.scrollToTop&&u.scrollToTop(...p))},_t)])):$("",!0)])}const xt=y(ut,[["render",ft]]),bt={components:{NavBar:z,ShopCart:pt,ScrollTop:xt,ToastCard:R,RouterLink:D},data(){return{ismeunOpen:!1}},computed:{...j(f,["cartData","finaltotalPrice","totalPrice","cartLoading","iscartOpen","resInfo"])},methods:{menuClick(){this.ismeunOpen=!this.ismeunOpen},...w(f,["getCart","addCart","deleteCart","cartClick"])},watch:{ismeunOpen(e){document.body.classList.toggle("overflow-hidden",e)},iscartOpen(e){e&&(this.ismeunOpen=!1)}},mounted(){this.getCart()}},yt={class:"flex flex-col h-screen"},vt={class:"fixed top-0 z-10 w-full bg-main"},kt={class:"container flex justify-between"},gt={class:"flex items-center menu"},Ct={class:"p-2"},wt=t("img",{class:"w-[120px] h-[60px] object-contain",src:B,alt:"logo"},null,-1),$t={class:"flex items-center mx-4 space-x-5 shop"},Lt=t("span",{class:"material-symbols-outlined text-secondary hover:text-primary"}," list_alt ",-1),Ot=t("span",{class:"material-symbols-outlined text-secondary hover:text-primary"}," shopping_cart ",-1),Tt={class:"absolute w-5 h-5 text-xs font-bold leading-5 text-center text-white bg-red-400 rounded-full -top-1/2 -right-1/2"},jt=t("span",{class:"material-symbols-outlined text-secondary hover:text-primary"}," menu ",-1),Pt=[jt],St={class:"absolute top-[76px] left-0 w-full"},Vt={class:"mobile-menu"},Dt={class:"flex-1 mt-[76px]"},Et={class:"bg-dark"},Rt={class:"container text-center text-secondary"},Bt=t("h3",{class:"pt-4 pb-2 text-xl"},"LEAFY",-1),Nt={class:"flex justify-center pb-2 text-xs"},At=t("p",{class:"pb-4 text-xs"},"LEAFY © 2024 copyright",-1);function It(e,n,a,v,o,u){const p=l("VueLoading"),k=l("ToastCard"),x=l("ScrollTop"),c=l("ShopCart"),_=l("RouterLink"),g=l("NavBar"),P=l("RouterView");return r(),i("div",yt,[s(p,{active:e.cartLoading.getCart,"can-cancel":!0,"is-full-page":!0},null,8,["active"]),t("div",{class:h(["mask",{"fixed overflow-hidden inset-0 bg-black bg-opacity-20 z-10":o.ismeunOpen}])},null,2),s(k,{"toast-msg":e.resInfo,"show-time":2e3},null,8,["toast-msg"]),s(x),s(c),t("header",vt,[t("div",kt,[t("div",gt,[t("h1",Ct,[s(_,{to:"/"},{default:d(()=>[wt]),_:1})]),s(g,{"can-expaned":!1})]),t("div",$t,[s(_,{class:"w-5 h-5 cursor-pointer",to:"/userinfo"},{default:d(()=>[Lt]),_:1}),t("a",{class:"relative w-5 h-5 cursor-pointer",onClick:n[0]||(n[0]=(...C)=>e.cartClick&&e.cartClick(...C))},[Ot,t("span",Tt,b(e.cartData.length),1)]),t("a",{class:"block w-6 h-6 cursor-pointer md:hidden ms-4",onClick:n[1]||(n[1]=(...C)=>u.menuClick&&u.menuClick(...C))},Pt)])]),t("div",St,[t("div",Vt,[s(g,{"can-expaned":!0,"is-open":o.ismeunOpen,"open-click":u.menuClick},null,8,["is-open","open-click"])])])]),t("div",Dt,[s(P)]),t("footer",Et,[t("div",Rt,[Bt,t("div",Nt,[t("p",null,[m(" 本網站僅供個人作品使用，不提供商業用途 | "),t("span",null,[s(_,{to:"/dashboard"},{default:d(()=>[m("登入後台")]),_:1})])])]),At])])])}const Gt=y(bt,[["render",It]]);export{Gt as default};
